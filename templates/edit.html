{% extends "layout.html" %}
{% block body %}
  <!-- Page Header -->
  <header class="masthead" style="background-image: url('{{url_for('static',filename='img/home-bg.jpg')}}')">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="site-heading">
            <h1>Admin Panel</h1>
            <!-- <h1>{{params['blog_name']}}</h1> -->
            <!-- <span class="subheading">{{params['tag_line']}}</span> -->
            <span class="subheading">Manage your Posts</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">

        <h1>Basic Action</h1>
        <a href="/dashboard"><button class ="btn btn-primary">Dashboard Home</button></a>
        <a href="/logout"><button class ="btn btn-primary">Logout</button></a>
        <!-- <a href="/edit/0"><button class ="btn btn-primary">Add a New Post</button></a> -->
        <hr>

<!-- this will be done at last -->
<h1>Add/Edit Posts</h1>

<!-- start of form  -->
<form name="sentMessage" id="contactForm" action="/edit/{{sno}}" method="post" novalidate>
    <div class="control-group">
      <div class="form-group floating-label-form-group controls">
        <label>Title</label>
        <input type="text" class="form-control" placeholder="Title" id="title" name='title' 
        required data-validation-required-message="Please enter your name."  value = "{{post.title}}">
        <p class="help-block text-danger"></p>
      </div>
    </div>
    <div class="control-group">
      <div class="form-group floating-label-form-group controls">
        <label>Tag line</label>
        <input type="text" class="form-control" placeholder="Tagline" id="tline" name='tline' 
        required data-validation-required-message="Please enter your email address." value="{{post.tag_line}}">
        <p class="help-block text-danger"></p>
      </div>
    </div>
    <div class="control-group">
      <div class="form-group col-xs-12 floating-label-form-group controls">
        <label>Slug</label>
        <input type="text" class="form-control" placeholder="Slug" id="slug" name = 'slug' 
        required data-validation-required-message="Please enter your phone number." value="{{post.slug}}">
        <p class="help-block text-danger"></p>
      </div>
    </div>
    <div class="control-group">
      <div class="form-group floating-label-form-group controls">
        <label>Content</label>
        <textarea rows="5" class="form-control" placeholder="Content" id="content" name='content' 
        required data-validation-required-message="Please enter a message.">{{post.content}}</textarea>
        <p class="help-block text-danger"></p>
      </div>
    </div>
    <div class="control-group">
        <div class="form-group floating-label-form-group controls">
          <label>Image File</label>
          <input class="form-control" placeholder="Image" id="img_file" name='img_file' value="{{post.img_file}}">
          <p class="help-block text-danger"></p>
        </div>
      </div>
    <br>
    <div id="success"></div>
    <button type="submit" class="btn btn-primary" id="sendMessageButton">Submit</button>
  </form>
<!-- form end here -->


<!-- body of table -->
  {% for post in posts %}
    <tr>
      <th scope="row">{{post.sno}}</th>
      <td>{{post.title}}</td>
      <td>{{post.date}}</td>
      <td><a href="/edit/{{post.sno}}"><button class = "btn btn-primary">Edit</button></a></td>
      <td><button class = "btn btn-primary">Delete</button></td>
    </tr>
  {% endfor %}
<!-- table body ends -->
  </tbody>
</table>


<!-- dark theme table  -->
<!-- <table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">#</th>
      <th scope="col">First</th>
      <th scope="col">Last</th>
      <th scope="col">Handle</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">1</th>
      <td>Mark</td>
      <td>Otto</td>
      <td>@mdo</td>
    </tr>
    <tr>
      <th scope="row">2</th>
      <td>Jacob</td>
      <td>Thornton</td>
      <td>@fat</td>
    </tr>
    <tr>
      <th scope="row">3</th>
      <td>Larry</td>
      <td>the Bird</td>
      <td>@twitter</td>
    </tr>
  </tbody>
</table> -->
  
  
<!-- Table ends here  -->
      </div>
    </div>
  </div>

  {% endblock %}